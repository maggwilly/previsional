{"version":3,"sources":["../../src/pages/rendezvous/rendezvous.module.ts","../../src/pages/rendezvous/rendezvous.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RendezvousPage } from './rendezvous';\n\n@NgModule({\n  declarations: [\n    RendezvousPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RendezvousPage),\n  ],\n})\nexport class RendezvousPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rendezvous/rendezvous.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { ManagerProvider} from '../../providers/manager/manager';\r\nimport { AppNotify } from '../../app/app-notify';\r\nimport { DatePipe } from \"@angular/common\";\r\n/**\r\n * Generated class for the RendezvousPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-rendezvous',\r\n  templateUrl: 'rendezvous.html',\r\n})\r\nexport class RendezvousPage {\r\n   rendezvous:any={}\r\n   users:any[]=[]\r\n   pointVente: any = {};\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public manager: ManagerProvider,\r\n    public viewCtrl: ViewController,\r\n    public notify: AppNotify,\r\n    public navParams: NavParams) {\r\n    this.rendezvous=this.navParams.get('rendezvous');\r\n    this.pointVente = navParams.get('pointVente');\r\n    \r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    var datePipe = new DatePipe('en');\r\n    \r\n    if(!this.rendezvous.dateat){\r\n      this.rendezvous.dateat = datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n      this.rendezvous.date = datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n    }\r\n   \r\n   \r\n    if(this.rendezvous.user&&this.rendezvous.user.id)\r\n        this.rendezvous.user=this.rendezvous.user.id;    \r\n    this.manager.get('user').then(data=>{\r\n         this.users=data?data:[] ;\r\n    },error=>{\r\n    })\r\n\r\n  }\r\n  dismiss(data?:any){\r\n    this.viewCtrl.dismiss(data);\r\n  }\r\n\r\n  onSubmit(){\r\n    let self=this;\r\n    this.rendezvous.change=true;\r\n    let loader= this.notify.loading({\r\n     content: \"Enregistrement...\",\r\n  }); \r\n  this.rendezvous.pointVente = this.pointVente.id;\r\n  this.manager.save('rendezvous',this.rendezvous).then((data)=>{\r\n      loader.dismiss().then(()=>{\r\n        if(!data.error){\r\n          self.dismiss(data);\r\n          return  this.notify.onSuccess({message:\"Enregistrement effectuÃ©\"})\r\n        }\r\n        this.notify.onError({message:\"Une erreur s'est produite\"})\r\n       });  \r\n   \r\n},error=>{\r\n  loader.dismiss()\r\n  this.notify.onError({message:\"Un probleme est survenu\"})\r\n})\r\n  loader.present();\r\n  }\r\n\r\n  isInvalid(){\r\n    return !this.rendezvous.dateat\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rendezvous/rendezvous.ts"],"sourceRoot":""}