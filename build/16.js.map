{"version":3,"sources":["../../src/pages/secteur/secteur.module.ts","../../src/pages/secteur/secteur.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SecteurPage } from './secteur';\n\n@NgModule({\n  declarations: [\n    SecteurPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SecteurPage),\n  ],\n})\nexport class SecteurPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/secteur/secteur.module.ts","import { Component } from '@angular/core';\r\nimport { ManagerProvider } from '../../providers/manager/manager';\r\nimport { IonicPage, NavParams, NavController, ViewController } from 'ionic-angular';\r\nimport { AppNotify } from '../../app/app-notify';\r\nimport { LocalisationProvider } from '../../providers/localisation/localisation';\r\n\r\n/**\r\n * Generated class for the SecteurPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-secteur',\r\n  templateUrl: 'secteur.html',\r\n})\r\nexport class SecteurPage {\r\n  secteur: any = {}\r\n  inset: boolean = true;\r\n  openAddPage: boolean\r\n  constructor(public navCtrl: NavController,\r\n    public viewCtrl: ViewController,\r\n    public notify: AppNotify,\r\n    public manager: ManagerProvider,\r\n    public location: LocalisationProvider,\r\n    public navParams: NavParams) {\r\n    this.openAddPage = this.navParams.get('openAddPage')\r\n    this.inset = this.navParams.get('inset');\r\n      this.secteur = this.navParams.get('secteur') ? this.navParams.get('secteur') : {}\r\n      console.log(this.secteur);\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    if (this.secteur.id)\r\n      return;\r\n    this.location.getCurrentPosition().then((resp) => {\r\n      this.secteur.latitude = resp.coords.latitude;\r\n      this.secteur.longitude = resp.coords.longitude;\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n\r\n  dismiss(data?: any) {\r\n    this.viewCtrl.dismiss(data)\r\n  }\r\n\r\n  isInvalid(): boolean {\r\n    return (!this.secteur.nom || !this.secteur.ville);\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    this.secteur.change = true;\r\n    let self = this;\r\n    let loader = this.notify.loading({\r\n      content: \"Enregistrement...\",\r\n    });\r\n    this.manager.save('secteur', this.secteur, this.location.isOnline()).then((data) => {\r\n      loader.dismiss().then(() => {\r\n        if (!data.error) {\r\n          self.dismiss(data);\r\n          return this.notify.onSuccess({ message: \"Enregistrement effectué\" })\r\n        }\r\n        this.notify.onError({ message: \"Une erreur s'est produite et l'opération n'a pas put se terminer correctement\" })\r\n\r\n      });\r\n\r\n    }, error => {\r\n      loader.dismiss()\r\n      this.notify.onError({ message: \" Verifiez votre connexion internet\" })\r\n    })\r\n    loader.present();\r\n  }\r\n\r\n\r\n  deleteItem() {\r\n    let self = this;\r\n    this.notify.showAlert({\r\n      title: \"Suppression\",\r\n      message: \"Voulez-vous supprimer cet element ?\",\r\n      buttons: [\r\n        {\r\n          text: 'Annuler',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Supprimer',\r\n          handler: (data) => {\r\n            let loader = this.notify.loading({\r\n              content: \"Suppression...\",\r\n            });\r\n            this.manager.delete('secteur', this.secteur).then(data => {\r\n              if (data.ok) {\r\n                loader.dismiss().then(() => {\r\n                  self.dismiss(data);\r\n                  this.notify.onSuccess({ message: \"Element supprime\" })\r\n                });\r\n              } else {\r\n                loader.dismiss()\r\n                this.notify.onError({ message: \"Cet element est lie a d'autres. Vous ne pouvez pas le supprimer\" })\r\n              }\r\n            }, error => {\r\n              loader.dismiss()\r\n              this.notify.onError({ message: \"Un probleme est survenu\" })\r\n            })\r\n            loader.present();\r\n          }\r\n        }\r\n      ]\r\n    })\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/secteur/secteur.ts"],"sourceRoot":""}